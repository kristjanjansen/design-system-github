"use client";import e,{createContext as t,memo as n,useContext as r,useRef as o,useEffect as a}from"react";let i;const d=new Uint8Array(16);function c(){if(!i&&(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(d)}const u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).slice(1));var m={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function s(e,t,n){if(m.randomUUID&&!t&&!e)return m.randomUUID();const r=(e=e||{}).random||(e.rng||c)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]}(r)}const l=t(null);n((({id:t,children:n})=>e.createElement(l.Provider,{value:t},n))).displayName="AnalyticsGroupProvider";const p=t(null);n((({id:t,children:n})=>e.createElement(p.Provider,{value:t},n))).displayName="AnalyticsSubGroupProvider";const y=t(null),f=n((({id:t,name:n,submitType:i,children:d,isSubmitSuccessful:c})=>{const{trackSubmitEvent:u}=(()=>{const e=r(l),t=r(p),n=r(y);return{trackFormInteractionEvent:(t,r,o)=>{if(t){const a={event:"form_interaction",group:e??"",form_id:n?.id??"",form_name:n?.name??"",element_id:t,element_type:r??"",interaction_type:o??""};window.dataLayer=window.dataLayer||[],window.dataLayer.push(a)}},trackContentInteractionEvent:(n,r,o)=>{if(n){const a={event:"content_interaction",group:e??"",sub_group:t??"",element_id:n,element_type:r??"",..."link"===r&&{micro_conversion:o??!1}};window.dataLayer=window.dataLayer||[],window.dataLayer.push(a)}},trackSubmitEvent:(e,t,n)=>{const r={form_id:e??"",form_name:t??"",event:n??"",request_id:s()};window.dataLayer=window.dataLayer||[],window.dataLayer.push(r)}}})();return((e,t)=>{const n=o(!0);a((()=>{if(t&&!n.current)return e();n.current=!1}),[t])})((()=>{u(t,n,i)}),c),e.createElement(y.Provider,{value:{id:t,name:n,submitType:i}},d)}));f.displayName="AnalyticsFormProvider";export{f as AnalyticsFormProvider};
//# sourceMappingURL=index.js.map
